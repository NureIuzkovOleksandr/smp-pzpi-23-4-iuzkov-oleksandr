–•–∞—Ä–∫—ñ–≤—Å—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —Ä–∞–¥—ñ–æ–µ–ª–µ–∫—Ç—Ä–æ–Ω—ñ–∫–∏
–§–∞–∫—É–ª—å—Ç–µ—Ç –∫–æ–º–ø‚Äô—é—Ç–µ—Ä–Ω–∏—Ö –Ω–∞—É–∫
–ö–∞—Ç–µ–¥—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ—ó —ñ–Ω–∂–µ–Ω–µ—Ä—ñ—ó
 
 
–ó–≤—ñ—Ç
–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ ‚Ññ 4
–∑ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏ ¬´–°–∫—Ä–∏–ø—Ç–æ–≤—ñ –º–æ–≤–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è¬ª
–Ω–∞ —Ç–µ–º—É: ¬´–ü—Ä–æ–¥–æ–≤–æ–ª—å—á–∏–π –º–∞–≥–∞–∑–∏–Ω "–í–µ—Å–Ω–∞"¬ª

 
 
 
–í–∏–∫–æ–Ω–∞–≤:                                                                           –ü–µ—Ä–µ–≤—ñ—Ä–∏–≤:
—Å—Ç. –≥—Ä. –ü–ó–ü–Ü-23-4                                                              —Å—Ç. –≤–∏–∫–ª–∞–¥–∞—á –∫–∞—Ñ–µ–¥—Ä–∏ –ü–Ü
–Æ–∑–∫–æ–≤ –û–ª–µ–∫—Å–∞–Ω–¥—Ä                                            	         –°–æ–∫–æ—Ä—á—É–∫ –Ü–≥–æ—Ä –ü–µ—Ç—Ä–æ–≤–∏—á
 
 
 
–•–∞—Ä–∫—ñ–≤ 2025
1 –Ü–°–¢–û–†–Ü–Ø –ó–ú–Ü–ù

‚Ññ	–î–∞—Ç–∞	–í–µ—Ä—Å—ñ—è –∑–≤—ñ—Ç—É	–û–ø–∏—Å –∑–º—ñ–Ω —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å
1	02.06.2025	0.1	–ó—Ä–æ–±–ª–µ–Ω–æ –∑–≤—ñ—Ç
2 –ó–ê–í–î–ê–ù–ù–Ø
–£ —Ü—ñ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –≤–µ–±-—Å–∞–π—Ç—É —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—É, –≤–ø—Ä–æ–≤–∞–¥–∏–≤—à–∏ –º–æ–¥—É–ª—å–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø—Ä–æ—Ñ—ñ–ª—é. –û—Å–Ω–æ–≤–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ–ª—è–≥–∞—é—Ç—å —É –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É —à–ª—è—Ö–æ–º —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö —Ñ–∞–π–ª—ñ–≤ –¥–ª—è —à–∞–ø–∫–∏ —Ç–∞ –ø—ñ–¥–≤–∞–ª—É —Å–∞–π—Ç—É; —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥–æ–ª–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª—ñ–≤ —Å–∞–π—Ç—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é require_once –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ URL. –ü–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–∑—Ä–æ–±–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É –ª–æ–≥—ñ–Ω—É –∑ —Ñ–æ—Ä–º–æ—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ —Ñ–∞–π–ª credential.php, –∞ —Ç–∞–∫–æ–∂ –æ–±–º–µ–∂–∏—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –ª–∏—à–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –ö—Ä—ñ–º —Ç–æ–≥–æ, —Å–ª—ñ–¥ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø—Ä–æ—Ñ—ñ–ª—é, –¥–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ –æ—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–æ—Ç–æ. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–≤–µ–¥–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö —ñ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ó—Ö —É —Ñ–∞–π–ª –º–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º –æ–±–º–µ–∂–µ–Ω–Ω—è–º, –∑–æ–∫—Ä–µ–º–∞ –≤—ñ–∫–æ–≤–∏–º —Ç–∞ —Ñ–æ—Ä–º–∞—Ç–Ω–∏–º.

    3 –û–ü–ò–° –í–ò–ö–û–ù–ê–ù–û–á –†–û–ë–û–¢–ò
–í–µ—Å—å –∫–æ–¥ –≤–µ–±-—Å–∞–π—Ç—É ¬´–ü—Ä–æ–¥–æ–≤–æ–ª—å—á–∏–π –º–∞–≥–∞–∑–∏–Ω "–í–µ—Å–Ω–∞"¬ª –Ω–∞–≤–µ–¥–µ–Ω–æ –≤ –¥–æ–¥–∞—Ç–∫—É –í. –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤—ñ–¥–µ–æ–∑–∞–ø–∏—Å —Ä–æ–±–æ—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –º—ñ—Å—Ç–∏—Ç—å—Å—è –≤ –¥–æ–¥–∞—Ç–∫—É –ê, –∞ –≥—Ä–∞—Ñ—ñ—á–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ ‚Äî —É –¥–æ–¥–∞—Ç–∫—É –ë.
–ù–∞ –ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –µ—Ç–∞–ø—ñ —Ä–æ–±–æ—Ç–∏ —è –¥–æ–æ–ø—Ä–∞—Ü—é–≤–∞–≤ —Ñ–∞–π–ª index.php, –¥–æ–¥–∞–≤—à–∏ –±–∞–∑–æ–≤—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –¥–ª—è –∑–∞—Ö–∏—â–µ–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫. –†–∞–Ω—ñ—à–µ –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –±—É–≤ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—Ç–∞–Ω—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —â–æ —Å—Ç–≤–æ—Ä—é–≤–∞–ª–æ —Ä–∏–∑–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏.
–ë—É–ª–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ –º–∞—Å–∏–≤ $pagesAllowedWithoutAuth, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫–∏, –¥–æ—Å—Ç—É–ø–Ω—ñ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó (home, about_us, login). –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π (—É —Å–µ—Å—ñ—ó –≤—ñ–¥—Å—É—Ç–Ω—ñ–π username) —ñ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∏, —â–æ –Ω–µ –≤—Ö–æ–¥–∏—Ç—å –¥–æ —Ü—å–æ–≥–æ –º–∞—Å–∏–≤—É, –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ no_access.php –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º –ø—Ä–æ –≤—ñ–¥–º–æ–≤—É —É –¥–æ—Å—Ç—É–ø—ñ. –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –¥–æ—Å—Ç—É–ø –¥–æ –∑–∞—Ö–∏—â–µ–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫, —â–æ –ø—ñ–¥–≤–∏—â—É—î —Ä—ñ–≤–µ–Ω—å –±–µ–∑–ø–µ–∫–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.
–¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –ø–æ–∫—Ä–∞—â–∏–≤ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É —Ç–∞ –∑–∞–∫–ª–∞–≤ –æ—Å–Ω–æ–≤—É –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

    1 <?php
    2 session_start();
    3 
    4 $path = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);
    5 $page = trim($path, '/') ?: 'home';
    6 
    7 $pagesAllowedWithoutAuth = ['login', 'home', 'about_us'];
    8 $pageFile = "pages/$page.php";
    9 ?>
    10 
    11 <!DOCTYPE html>
    12 <html lang="uk">
    13 
    14 <head>
    15     <meta charset="UTF-8" />
    16     <meta name="viewport" content="width=device-width, initial-scale=1" />
    17     <title>–ü—Ä–æ–¥—É–∫—Ç–æ–≤–∏–π –º–∞–≥–∞–∑–∏–Ω –í–µ—Å–Ω–∞</title>
    18     <link rel="stylesheet" href="styles/style.css" />
    19 </head>
    20 
    21 <body>
    22     <?php require_once "components/header.php"; ?>
    23 
    24     <main>
    25         <?php
    26         if (!file_exists($pageFile)) {
    27             require_once "pages/page_404.php";
    28         } else {
    29             if (!isset($_SESSION['username']) && !in_array($page, $pagesAllowedWithoutAuth)) {
    30                 require_once "pages/no_access.php";
    31             } else {
    32                 require_once $pageFile;
    33             }
    34         }
    35         ?>
    36     </main>
    37 
    38     <?php require_once "components/footer.php"; ?>
    39 </body>
    40 
    41 </html>

–¢–∞–∫–æ–∂ –±—É–ª–æ –¥–æ–æ–ø—Ä–∞—Ü—å–æ–≤–∞–Ω–æ —Ñ–∞–π–ª header.php ‚Äî —Ç–µ–ø–µ—Ä –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±—ñ–ª—å—à—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫, –¥–æ—Å—Ç—É–ø –¥–æ —è–∫–∏—Ö –≤–∏–º–∞–≥–∞—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó, –ø—Ä–∏—Ö–æ–≤–∞–Ω–æ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –ó–∞–º—ñ—Å—Ç—å –Ω–∏—Ö –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—Ö–æ–¥—É –¥–æ —Å–∏—Å—Ç–µ–º–∏.
    1 <header>
    2     <nav class="main-nav">
    3         <div class="nav-item">
    4             <a href="/">
    5                 <span class="nav-icon">üè°</span><span class="nav-label">Home</span>
    6             </a>
    7         </div>
    8         <div class="nav-item">
    9             <a href="/products">
    10                 <span class="nav-icon">üõçÔ∏è</span><span class="nav-label">Products</span>
    11             </a>
    12         </div>
    13 
    14         <?php if (isset($_SESSION['username'])) : ?>
    15             <div class="nav-item">
    16                 <a href="/cart">
    17                     <span class="nav-icon">üõí</span><span class="nav-label">Cart</span>
    18                 </a>
    19             </div>
    20             <div class="nav-item">
    21                 <a href="/myprofile">
    22                     <span class="nav-icon">üßë</span><span class="nav-label">Profile</span>
    23                 </a>
    24             </div>
    25             <div class="nav-item">
    26                 <a href="/logout">
    27                     <span class="nav-icon">üîì</span><span class="nav-label">Logout</span>
    28                 </a>
    29             </div>
    30         <?php else : ?>
    31             <div class="nav-item">
    32                 <a href="/login">
    33                     <span class="nav-icon">üîê</span><span class="nav-label">Login</span>
    34                 </a>
    35             </div>
    36         <?php endif; ?>
    37 
    38     </nav>
    39 </header>
–°–∞–º–∞ –∂ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ no_access –º–∞—î –Ω–∞—Å—Ç—É–ø–Ω—É —Ä–æ–∑–º—ñ—Ç–∫—É. C—Ç–æ—Ä—ñ–Ω–∫—É –∑–æ–±—Ä–∞–∂–µ–Ω–æ —É –¥–æ–¥–∞—Ç–∫—É –ë (—Ä–∏—Å. –ë3).
    1 <h1>–ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø–µ—Ä—à—É –≤–∏–∫–æ–Ω–∞–π—Ç–µ –≤—Ö—ñ–¥ –¥–æ —Å–≤–æ–≥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É!</h1>

–£ –¥–æ–æ–ø—Ä–∞—Ü—å–æ–≤–∞–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó –¥–æ–¥–∞–Ω–æ –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª credentials.php, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. –¶–µ –ø–æ–∫—Ä–∞—â—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥—É, –æ—Å–∫—ñ–ª—å–∫–∏ –ª–æ–≥—ñ–Ω —ñ –ø–∞—Ä–æ–ª—å —Ç–µ–ø–µ—Ä –Ω–µ –ø—Ä–æ–ø–∏—Å–∞–Ω—ñ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –æ–±—Ä–æ–±—Ü—ñ –≤—Ö–æ–¥—É, –∞ –≤–∏–Ω–µ—Å–µ–Ω—ñ –≤ –æ–∫—Ä–µ–º–∏–π –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª.
	–¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ–∑–≤–æ–ª—è—î –∑—Ä—É—á–Ω—ñ—à–µ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ, —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø, –∞ —Ç–∞–∫–æ–∂ —É –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ñ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó ‚Äî –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ–¥–∞—Ç–∏ –∫—ñ–ª—å–∫–æ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∞–±–æ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö.
    1 <?php
    2 $credentials = [
    3     'username' => 'Alex',
    4     'password' => '123456',
    5 ];
–£ –¥–æ–æ–ø—Ä–∞—Ü—å–æ–≤–∞–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó –ø—Ä–æ—î–∫—Ç—É —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—Ö–æ–¥—É –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∞–≤—Ç–æ—Ä–∏–∑—É–≤–∞—Ç–∏—Å—è –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º –¥–æ –∑–∞—Ö–∏—â–µ–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫, —Ç–∞–∫–∏—Ö —è–∫ /products –∞–±–æ /cart. –î–ª—è —Ü—å–æ–≥–æ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è —Ñ–∞–π–ª –∑ –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ —á–µ—Ä–µ–∑ require './utils/credential.php'. –ü—ñ—Å–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Ñ–æ—Ä–º–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –≤–≤–µ–¥–µ–Ω–∏—Ö –ª–æ–≥—ñ–Ω–∞ —Ç–∞ –ø–∞—Ä–æ–ª—è –∑ –¥–∞–Ω–∏–º–∏ —É —Ñ–∞–π–ª—ñ. –£ —Ä–∞–∑—ñ —É—Å–ø—ñ—à–Ω–æ—ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —ñ–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —Å–µ—Å—ñ—ó —Ä–∞–∑–æ–º —ñ–∑ —á–∞—Å–æ–º –≤—Ö–æ–¥—É. –Ø–∫—â–æ –¥–∞–Ω—ñ –≤–≤–µ–¥–µ–Ω—ñ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É. –°—Ç–æ—Ä—ñ–Ω–∫–∞ –º—ñ—Å—Ç–∏—Ç—å –ø—Ä–æ—Å—Ç—É HTML-—Ñ–æ—Ä–º—É –∑ –ø–æ–ª—è–º–∏ –¥–ª—è —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ –ø–∞—Ä–æ–ª—è. –¶–µ–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —î –∫–ª—é—á–æ–≤–∏–º –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É –¥–æ —Å–∏—Å—Ç–µ–º–∏. –°—Ç–æ—Ä—ñ–Ω–∫–∞ –≤—Ö–æ–¥—É –Ω–∞–≤–µ–¥–µ–Ω–∞ —É –¥–æ–¥–∞—Ç–∫—É –ë (—Ä–∏—Å. –ë1).
    1 <?php 
    2 require './utils/credential.php';
    3 
    4 if ($_SERVER["REQUEST_METHOD"] == "POST" && isset($_POST['login_user']) && isset($_POST['login_password'])) {
    5   $submittedUser = $_POST['login_user'];
    6   $submittedPassword = $_POST['login_password'];
    7 
    8   if (isset($credentials['username'], $credentials['password'])) {
    9     if ($credentials['username'] == $submittedUser && $credentials['password'] == $submittedPassword) {
    10       $_SESSION['username'] = $submittedUser;
    11       $_SESSION['auth_timestamp'] = date("Y-m-d H:i:s");
    12       header('Location: /products');
    13       exit;
    14     } else {
    15       $_SESSION['login_form_error'] = '–ù–µ–≤—ñ—Ä–Ω–µ —ñ–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ –ø–∞—Ä–æ–ª—å.';
    16     }
    17   } else {
    18     $_SESSION['login_form_error'] = '–ü–æ–º–∏–ª–∫–∞ –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö.';
    19   }
    20 }
    21 
    22 $loginFormError = $_SESSION['login_form_error'] ?? '';
    23 unset($_SESSION['login_form_error']);
    24 ?>
    25 
    26 <div class="login-box">
    27     <h2>üîê –í—Ö—ñ–¥</h2>
    28 
    29     <?php if ($loginFormError): ?>
    30     <div class="login-error"><?php echo htmlspecialchars($loginFormError); ?></div>
    31     <?php endif; ?>
    32 
    33     <form method="POST" action="">
    34         <input type="text" name="login_user" placeholder="–Ü–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞" required>
    35         <input type="password" name="login_password" placeholder="–ü–∞—Ä–æ–ª—å" required>
    36         <button type="submit">–£–≤—ñ–π—Ç–∏</button>
    37     </form>
    38 </div>
–£ –ø—Ä–æ—î–∫—Ç –±—É–ª–æ –¥–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é –≤–∏—Ö–æ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –∑–∞–≤–µ—Ä—à–∏—Ç–∏ —Å–µ–∞–Ω—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó. –ü—ñ–¥ —á–∞—Å –≤–∏—Ö–æ–¥—É –∑—ñ —Å–µ—Å—ñ—ó –æ—á–∏—â–∞—é—Ç—å—Å—è –∑–º—ñ–Ω–Ω—ñ username —Ç–∞ auth_timestamp, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ —Å–∏—Å—Ç–µ–º—ñ. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É (/home), —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –∑—Ä—É—á–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞ –∫–æ—Ä–µ–∫—Ç–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Å–µ—Å—ñ—ó.
    1 <?php
    2 session_start();
    3 unset($_SESSION['username'], $_SESSION['auth_timestamp']);
    4 header('Location: /home');
    5 exit;
    6 ?>
–Ø –¥–æ–¥–∞–≤ —Ñ–∞–π–ª profile.php, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –∞—Å–æ—Ü—ñ–∞—Ç–∏–≤–Ω–∏–π –º–∞—Å–∏–≤ –∑ –æ—Å–æ–±–∏—Å—Ç–∏–º–∏ –¥–∞–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞: —ñ–º‚Äô—è, –ø—Ä—ñ–∑–≤–∏—â–µ, –¥–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è, –∫–æ—Ä–æ—Ç–∫–∞ –±—ñ–æ–≥—Ä–∞—Ñ—ñ—è —Ç–∞ —à–ª—è—Ö –¥–æ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ—ñ–ª—é (–∑–±–µ—Ä–µ–∂–µ–Ω–µ —É –ø–∞–ø—Ü—ñ assets). –¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–∞—î –∑–º–æ–≥—É —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, –ª–µ–≥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ó—ó –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö –ø—Ä–æ—Ñ—ñ–ª—é —ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –±–µ–∑ –∂–æ—Ä—Å—Ç–∫–æ–≥–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –≤ —à–∞–±–ª–æ–Ω. –§–∞–π–ª —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é return array(...), —â–æ –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–æ—Å—Ç–æ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ –π–æ–≥–æ —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ –º–∞—Å–∏–≤ —É –∑–º—ñ–Ω–Ω—É.

    1 <?php return array (
    2   'name' => 'Oleg',
    3   'surname' => 'Iuzkov',
    4   'birthdate' => '2006-06-14',
    5   'bio' => 'The quick brown fox jumps over the lazy dog near the riverbank on a sunny afternoon.The quick brown fox jumps over the lazy dog near the riverbank on a sunny afternoon.',
    6   'photo' => 'assets/profile_684390348d2299.24786934.jpg',
    7 );
–ë—É–ª–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ —Ñ–∞–π–ª myprofile.php, —è–∫–∏–π —Ä–µ–∞–ª—ñ–∑—É—î —Å—Ç–æ—Ä—ñ–Ω–∫—É —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞ PHP. –°–ø–µ—Ä—à—É –∑—á–∏—Ç—É—é—Ç—å—Å—è –ø–æ—Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ –ø—Ä–æ—Ñ—ñ–ª—é –∑ —Ñ–∞–π–ª—É profile.php, –∞ —Ç–∞–∫–æ–∂ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ —á–∏ —É—Å–ø—ñ—à–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ñ–∑ —Å–µ—Å—ñ—ó. –Ø–∫—â–æ —Ñ–æ—Ä–º–∞ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞ –º–µ—Ç–æ–¥–æ–º POST, –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –æ–±—Ä–æ–±–∫–∞ –≤–≤–µ–¥–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö ‚Äî —ñ–º‚Äô—è, –ø—Ä—ñ–∑–≤–∏—â–µ, –¥–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è, –±—ñ–æ–≥—Ä–∞—Ñ—ñ—è —Ç–∞ —Ñ–æ—Ç–æ. –ö–æ–∂–Ω–µ –ø–æ–ª–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤–∞–ª—ñ–¥–∞—Ü—ñ—é, –∑–æ–∫—Ä–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç–∏, –≤—ñ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–≤—ñ–¥ 16 –¥–æ 150 —Ä–æ–∫—ñ–≤) —ñ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ –±—ñ–æ–≥—Ä–∞—Ñ—ñ—ó (50 —Å–∏–º–≤–æ–ª—ñ–≤). –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –Ω–æ–≤–µ —Ñ–æ—Ç–æ, –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –π–æ–≥–æ MIME-—Ç–∏–ø —ñ —Ñ–∞–π–ª –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –ø–∞–ø–∫—É assets/, –ø—Ä–∏ —Ü—å–æ–º—É —Å—Ç–∞—Ä–µ —Ñ–æ—Ç–æ –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è, —è–∫—â–æ –≤–æ–Ω–æ –±—É–ª–æ. –£—Å–ø—ñ—à–Ω–æ –æ–±—Ä–æ–±–ª–µ–Ω—ñ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É —Ñ–∞–π–ª profile.php —É –≤–∏–≥–ª—è–¥—ñ PHP-–∞—Å–æ—Ü—ñ–∞—Ç–∏–≤–Ω–æ–≥–æ –º–∞—Å–∏–≤—É. –£ HTML-—á–∞—Å—Ç–∏–Ω—ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —Ñ–æ—Ä–º–∞ –∑ –ø–æ—Ç–æ—á–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏, –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ —Ñ–æ—Ç–æ. –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é JavaScript —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –¥–∏–Ω–∞–º—ñ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏. –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ø—Ä–æ—Ñ—ñ–ª—é –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–∞ —É –¥–æ–¥–∞—Ç–∫—É –ë (—Ä–∏—Å. –ë2).

    1 <?php
    2 $profileFile = __DIR__ . '/../utils/profile.php';
    3 $profile = file_exists($profileFile) ? include $profileFile : [];
    4 if (session_status() === PHP_SESSION_NONE) {
    5     session_start();
    6 }
    7 
    8 $error = $_SESSION['error'] ?? '';
    9 $success = $_SESSION['success'] ?? '';
    10 unset($_SESSION['error'], $_SESSION['success']);
    11 
    12 if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    13     $name = trim($_POST['name'] ?? '');
    14     $surname = trim($_POST['surname'] ?? '');
    15     $birthdate = $_POST['birthdate'] ?? '';
    16     $bio = trim($_POST['bio'] ?? '');
    17     $photoPath = $profile['photo'] ?? '';
    18 
    19     $birthDateTime = DateTime::createFromFormat('Y-m-d', $birthdate);
    20     $birthDateErrors = DateTime::getLastErrors();
    21 
    22     if (empty($name) || empty($surname) || empty($birthdate) || empty($bio)) {
    23         $_SESSION['error'] = '–£—Å—ñ –ø–æ–ª—è –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –¥–ª—è –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è.';
    24     } elseif (mb_strlen($name) < 2 || mb_strlen($surname) < 2) {
    25         $_SESSION['error'] = '–Ü–º‚Äô—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ –º–∞—é—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –±—ñ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª—É.';
    26     } elseif (!$birthDateTime || $birthDateErrors['warning_count'] > 0 || $birthDateErrors['error_count'] > 0) {
    27         $_SESSION['error'] = '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç–∏.';
    28     } else {
    29         $age = (int)$birthDateTime->diff(new DateTime())->y;
    30         if ($age < 16 || $age > 150) {
    31             $_SESSION['error'] = '–í—ñ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –º–∞—î –±—É—Ç–∏ –Ω–µ –º–µ–Ω—à–µ 16 —Ä–æ–∫—ñ–≤ —ñ –Ω–µ –±—ñ–ª—å—à–µ 150.';
    32         } elseif (mb_strlen($bio) < 50) {
    33             $_SESSION['error'] = '–û–ø–∏—Å –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ —â–æ–Ω–∞–π–º–µ–Ω—à–µ 50 —Å–∏–º–≤–æ–ª—ñ–≤.';
    34         } else {
    35             if (!empty($_FILES['photo']['name'])) {
    36                 if ($_FILES['photo']['error'] === UPLOAD_ERR_OK) {
    37                     $fileType = mime_content_type($_FILES['photo']['tmp_name']);
    38                     $allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];
    39 
    40                     if (in_array($fileType, $allowedTypes, true)) {
    41                         $extension = pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION);
    42                         $newPhotoPath = 'assets/' . uniqid('profile_', true) . '.' . $extension;
    43 
    44                         if (!empty($photoPath) && file_exists($photoPath)) {
    45                             unlink($photoPath);
    46                         }
    47 
    48                         move_uploaded_file($_FILES['photo']['tmp_name'], $newPhotoPath);
    49                         $photoPath = $newPhotoPath;
    50                     } else {
    51                         $_SESSION['error'] = '–§–æ—Ç–æ –º–∞—î –±—É—Ç–∏ —Ñ–æ—Ä–º–∞—Ç—É JPG, PNG –∞–±–æ GIF.';
    52                     }
    53                 } else {
    54                     $_SESSION['error'] = '–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—É.';
    55                 }
    56             }
    57 
    58             if (!isset($_SESSION['error'])) {
    59                 $profile = [
    60                     'name' => $name,
    61                     'surname' => $surname,
    62                     'birthdate' => $birthdate,
    63                     'bio' => $bio,
    64                     'photo' => $photoPath,
    65                 ];
    66 
    67                 file_put_contents($profileFile, "<?php return " . var_export($profile, true) . ";");
    68                 $_SESSION['success'] = '–ü—Ä–æ—Ñ—ñ–ª—å –∑–±–µ—Ä–µ–∂–µ–Ω–æ.';
    69             }
    70         }
    71     }
    72 
    73     header('Location: ' . $_SERVER['REQUEST_URI']);
    74     exit;
    75 }
    76 ?>
    77 
    78 <div class="product-page" style="max-width: 1000px;">
    79     <h1>–ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h1>
    80 
    81     <?php if ($error): ?>
    82         <div class="error-message"><?= htmlspecialchars($error) ?></div>
    83     <?php elseif ($success): ?>
    84         <div class="cart-success"><?= htmlspecialchars($success) ?></div>
    85     <?php endif; ?>
    86 
    87     <form method="POST" enctype="multipart/form-data" class="profile-form" style="display: flex; gap: 2rem;">
    88         <div style="flex: 1; text-align: center;">
    89             <img
    90                 src="<?= htmlspecialchars($profile['photo'] ?? 'https://via.placeholder.com/200') ?>"
    91                 alt="–§–æ—Ç–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞"
    92                 style="max-width: 60%; border-radius: 8px; margin-bottom: 1rem;"
    93             >
    94             <label for="photo-upload" class="custom-file-upload" style="
    95                 display: inline-block;
    96                 padding: 0.5rem 1rem;
    97                 cursor: pointer;
    98                 background-color: #4CAF50;
    99                 color: white;
    100                 border-radius: 6px;
    101                 font-size: 0.9rem;
    102                 transition: background-color 0.3s ease;
    103             ">
    104                 –û–±—Ä–∞—Ç–∏ —Ñ–æ—Ç–æ
    105             </label>
    106             <input id="photo-upload" type="file" name="photo" accept="image/*" style="display: none;">
    107         </div>
    108 
    109         <div style="flex: 2;">
    110             <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
    111                 <input type="text" name="name" placeholder="–Ü–º‚Äô—è" value="<?= htmlspecialchars($profile['name'] ?? '') ?>" style="flex:1; padding: 0.5rem;">
    112                 <input type="text" name="surname" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ" value="<?= htmlspecialchars($profile['surname'] ?? '') ?>" style="flex:1; padding: 0.5rem;">
    113                 <input type="date" name="birthdate" value="<?= htmlspecialchars($profile['birthdate'] ?? '') ?>" style="padding: 0.5rem;">
    114             </div>
    115 
    116             <div style="margin-bottom: 1rem;">
    117                 <textarea name="bio" rows="12" placeholder="–°—Ç–∏—Å–ª–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Å–µ–±–µ..." style="width: 100%; resize: none; padding: 0.75rem;"><?= htmlspecialchars($profile['bio'] ?? '') ?></textarea>
    118             </div>
    119 
    120             <div style="text-align: right;">
    121                 <button type="submit" class="submit-button">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
    122             </div>
    123         </div>
    124     </form>
    125 </div>
    126 
    127 <script>
    128 document.getElementById('photo-upload').addEventListener('change', function(event) {
    129     const file = event.target.files[0];
    130     if (file && file.type.startsWith('image/')) {
    131         const reader = new FileReader();
    132         reader.onload = function(e) {
    133             document.querySelector('.product-page img').src = e.target.result;
    134         };
    135         reader.readAsDataURL(file);
    136     }
    137 });
    138 </script>
4 –í–ò–°–ù–û–í–ö–ò
–£ —Ö–æ–¥—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –±—É–ª–æ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∞–π—Ç—É –∑–∞ —Ä–∞—Ö—É–Ω–æ–∫ –º–æ–¥—É–ª—å–Ω–æ–≥–æ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Å–ø—ñ–ª—å–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ (—à–∞–ø–∫–∞, –ø—ñ–¥–≤–∞–ª) —Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–æ —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó. –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –º–µ—Ö–∞–Ω—ñ–∑–º –≤—Ö–æ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –ª–æ–≥—ñ–Ω–∞ —ñ –ø–∞—Ä–æ–ª—è, –∞ —Ç–∞–∫–æ–∂ –æ–±–º–µ–∂–µ–Ω–æ –¥–æ—Å—Ç—É–ø –¥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É —Å–∞–π—Ç—É –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø—Ä–æ—Ñ—ñ–ª—é –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –æ—Å–æ–±–∏—Å—Ç–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó –∑ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ—é –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é –≤–≤–µ–¥–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö. –ó–∞–≤–¥—è–∫–∏ —Ü–∏–º –¥–æ–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è–º –≤–µ–±-—Å–∞–π—Ç —Å—Ç–∞–≤ –±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–º, –±–µ–∑–ø–µ—á–Ω–∏–º —ñ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º —É –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º.

–î–û–î–ê–¢–û–ö –ê
–í—ñ–¥–µ–æ–∑–∞–ø–∏—Å
–í—ñ–¥–µ–æ–∑–∞–ø–∏—Å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏: https://youtu.be/CeX8bgrd3c8
–•—Ä–æ–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π –æ–ø–∏—Å –≤—ñ–¥–µ–æ–∑–∞–ø–∏—Å—É:
00:00 - –í—Å—Ç—É–ø
00:09 - –ó–∞–≤–¥–∞–Ω–Ω—è
00:30 - –†–æ–∑–≥–ª—è–¥ –ø—Ä–æ–≥—Ä–∞–º–∏
03:06 - –†–æ–∑–≥–ª—è–¥ –∫–æ–¥—É
















–î–û–î–ê–¢–û–ö –ë
–ì—Ä–∞—Ñ—ñ—á–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏

–†–∏—Å—É–Ω–æ–∫ –ë.1 ‚Äî¬†–°—Ç–æ—Ä—ñ–Ω–∫–∞ –≤—Ö–æ–¥—É


–†–∏—Å—É–Ω–æ–∫ –ë.2 ‚Äî¬†–°—Ç–æ—Ä—ñ–Ω–∫–∞ –ø—Ä–æ—Ñ—ñ–ª—é



–†–∏—Å—É–Ω–æ–∫ –ë.3 ‚Äî¬†–°—Ç–æ—Ä—ñ–Ω–∫–∞ no_access















–î–û–î–ê–¢–û–ö –í
–ü—Ä–æ–≥—Ä–∞–º–Ω–∏–π –∫–æ–¥
–í.1 index.php
GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/NureIuzkovOleksandr/smp-pzpi-23-4-iuzkov-oleksandr/blob/main/Lab4/smp-pzpi-23-4-iuzkov-oleksandr-lab4/index.php
    1. <?php
    2. session_start();
    3. 
    4. $path = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);
    5. $page = trim($path, '/') ?: 'home';
    6. 
    7. $pagesAllowedWithoutAuth = ['login', 'home', 'about_us'];
    8. $pageFile = "pages/$page.php";
    9. ?>
    10. 
    11. <!DOCTYPE html>
    12. <html lang="uk">
    13. 
    14. <head>
    15.     <meta charset="UTF-8" />
    16.     <meta name="viewport" content="width=device-width, initial-scale=1" />
    17.     <title>–ü—Ä–æ–¥—É–∫—Ç–æ–≤–∏–π –º–∞–≥–∞–∑–∏–Ω –í–µ—Å–Ω–∞</title>
    18.     <link rel="stylesheet" href="styles/style.css" />
    19. </head>
    20. 
    21. <body>
    22.     <?php require_once "components/header.php"; ?>
    23. 
    24.     <main>
    25.         <?php
    26.         if (!file_exists($pageFile)) {
    27.             require_once "pages/page_404.php";
    28.         } else {
    29.             if (!isset($_SESSION['username']) && !in_array($page, $pagesAllowedWithoutAuth)) {
    30.                 require_once "pages/no_access.php";
    31.             } else {
    32.                 require_once $pageFile;
    33.             }
    34.         }
    35.         ?>
    36.     </main>
    37. 
    38.     <?php require_once "components/footer.php"; ?>
    39. </body>
    40. 
    41. </html>


–í.2 header.php
GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/NureIuzkovOleksandr/smp-pzpi-23-4-iuzkov-oleksandr/blob/main/Lab4/smp-pzpi-23-4-iuzkov-oleksandr-lab4/components/header.php
    1. <header>
    2.     <nav class="main-nav">
    3.         <div class="nav-item">
    4.             <a href="/">
    5.                 <span class="nav-icon">üè°</span><span class="nav-label">Home</span>
    6.             </a>
    7.         </div>
    8.         <div class="nav-item">
    9.             <a href="/products">
    10.                 <span class="nav-icon">üõçÔ∏è</span><span class="nav-label">Products</span>
    11.             </a>
    12.         </div>
    13. 
    14.         <?php if (isset($_SESSION['username'])) : ?>
    15.             <div class="nav-item">
    16.                 <a href="/cart">
    17.                     <span class="nav-icon">üõí</span><span class="nav-label">Cart</span>
    18.                 </a>
    19.             </div>
    20.             <div class="nav-item">
    21.                 <a href="/myprofile">
    22.                     <span class="nav-icon">üßë</span><span class="nav-label">Profile</span>
    23.                 </a>
    24.             </div>
    25.             <div class="nav-item">
    26.                 <a href="/logout">
    27.                     <span class="nav-icon">üîì</span><span class="nav-label">Logout</span>
    28.                 </a>
    29.             </div>
    30.         <?php else : ?>
    31.             <div class="nav-item">
    32.                 <a href="/login">
    33.                     <span class="nav-icon">üîê</span><span class="nav-label">Login</span>
    34.                 </a>
    35.             </div>
    36.         <?php endif; ?>
    37. 
    38.     </nav>
    39. </header>

–í.3 login.php
GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/NureIuzkovOleksandr/smp-pzpi-23-4-iuzkov-oleksandr/blob/main/Lab4/smp-pzpi-23-4-iuzkov-oleksandr-lab4/pages/login.php
    1. <?php 
    2. require './utils/credential.php';
    3. 
    4. if ($_SERVER["REQUEST_METHOD"] == "POST" && isset($_POST['login_user']) && isset($_POST['login_password'])) {
    5.   $submittedUser = $_POST['login_user'];
    6.   $submittedPassword = $_POST['login_password'];
    7. 
    8.   if (isset($credentials['username'], $credentials['password'])) {
    9.     if ($credentials['username'] == $submittedUser && $credentials['password'] == $submittedPassword) {
    10.       $_SESSION['username'] = $submittedUser;
    11.       $_SESSION['auth_timestamp'] = date("Y-m-d H:i:s");
    12.       header('Location: /products');
    13.       exit;
    14.     } else {
    15.       $_SESSION['login_form_error'] = '–ù–µ–≤—ñ—Ä–Ω–µ —ñ–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ –ø–∞—Ä–æ–ª—å.';
    16.     }
    17.   } else {
    18.     $_SESSION['login_form_error'] = '–ü–æ–º–∏–ª–∫–∞ –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö.';
    19.   }
    20. }
    21. 
    22. $loginFormError = $_SESSION['login_form_error'] ?? '';
    23. unset($_SESSION['login_form_error']);
    24. ?>
    25. 
    26. <div class="login-box">
    27.     <h2>üîê –í—Ö—ñ–¥</h2>
    28. 
    29.     <?php if ($loginFormError): ?>
    30.     <div class="login-error"><?php echo htmlspecialchars($loginFormError); ?></div>
    31.     <?php endif; ?>
    32. 
    33.     <form method="POST" action="">
    34.         <input type="text" name="login_user" placeholder="–Ü–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞" required>
    35.         <input type="password" name="login_password" placeholder="–ü–∞—Ä–æ–ª—å" required>
    36.         <button type="submit">–£–≤—ñ–π—Ç–∏</button>
    37.     </form>
    38. </div>
    39. 
–í.4 logout.php
GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/NureIuzkovOleksandr/smp-pzpi-23-4-iuzkov-oleksandr/blob/main/Lab4/smp-pzpi-23-4-iuzkov-oleksandr-lab4/pages/logout.php
    1. <?php
    2. session_start();
    3. unset($_SESSION['username'], $_SESSION['auth_timestamp']);
    4. header('Location: /home');
    5. exit;
    6. ?>

–í.5 no_access.php
GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/NureIuzkovOleksandr/smp-pzpi-23-4-iuzkov-oleksandr/blob/main/Lab4/smp-pzpi-23-4-iuzkov-oleksandr-lab4/pages/no_access.php
    1. <h1>–ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø–µ—Ä—à—É –≤–∏–∫–æ–Ω–∞–π—Ç–µ –≤—Ö—ñ–¥ –¥–æ —Å–≤–æ–≥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É!</h1>


–í.6 myprofile.php
GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/NureIuzkovOleksandr/smp-pzpi-23-4-iuzkov-oleksandr/blob/main/Lab4/smp-pzpi-23-4-iuzkov-oleksandr-lab4/pages/myprofile.php
    1. <?php
    2. $profileFile = __DIR__ . '/../utils/profile.php';
    3. $profile = file_exists($profileFile) ? include $profileFile : [];
    4. if (session_status() === PHP_SESSION_NONE) {
    5.     session_start();
    6. }
    7. 
    8. $error = $_SESSION['error'] ?? '';
    9. $success = $_SESSION['success'] ?? '';
    10. unset($_SESSION['error'], $_SESSION['success']);
    11. 
    12. if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    13.     $name = trim($_POST['name'] ?? '');
    14.     $surname = trim($_POST['surname'] ?? '');
    15.     $birthdate = $_POST['birthdate'] ?? '';
    16.     $bio = trim($_POST['bio'] ?? '');
    17.     $photoPath = $profile['photo'] ?? '';
    18. 
    19.     $birthDateTime = DateTime::createFromFormat('Y-m-d', $birthdate);
    20.     $birthDateErrors = DateTime::getLastErrors();
    21. 
    22.     if (empty($name) || empty($surname) || empty($birthdate) || empty($bio)) {
    23.         $_SESSION['error'] = '–£—Å—ñ –ø–æ–ª—è –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –¥–ª—è –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è.';
    24.     } elseif (mb_strlen($name) < 2 || mb_strlen($surname) < 2) {
    25.         $_SESSION['error'] = '–Ü–º‚Äô—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ –º–∞—é—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –±—ñ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª—É.';
    26.     } elseif (!$birthDateTime || $birthDateErrors['warning_count'] > 0 || $birthDateErrors['error_count'] > 0) {
    27.         $_SESSION['error'] = '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç–∏.';
    28.     } else {
    29.         $age = (int)$birthDateTime->diff(new DateTime())->y;
    30.         if ($age < 16 || $age > 150) {
    31.             $_SESSION['error'] = '–í—ñ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –º–∞—î –±—É—Ç–∏ –Ω–µ –º–µ–Ω—à–µ 16 —Ä–æ–∫—ñ–≤ —ñ –Ω–µ –±—ñ–ª—å—à–µ 150.';
    32.         } elseif (mb_strlen($bio) < 50) {
    33.             $_SESSION['error'] = '–û–ø–∏—Å –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ —â–æ–Ω–∞–π–º–µ–Ω—à–µ 50 —Å–∏–º–≤–æ–ª—ñ–≤.';
    34.         } else {
    35.             if (!empty($_FILES['photo']['name'])) {
    36.                 if ($_FILES['photo']['error'] === UPLOAD_ERR_OK) {
    37.                     $fileType = mime_content_type($_FILES['photo']['tmp_name']);
    38.                     $allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];
    39. 
    40.                     if (in_array($fileType, $allowedTypes, true)) {
    41.                         $extension = pathinfo($_FILES['photo']['name'], PATHINFO_EXTENSION);
    42.                         $newPhotoPath = 'assets/' . uniqid('profile_', true) . '.' . $extension;
    43. 
    44.                         if (!empty($photoPath) && file_exists($photoPath)) {
    45.                             unlink($photoPath);
    46.                         }
    47. 
    48.                         move_uploaded_file($_FILES['photo']['tmp_name'], $newPhotoPath);
    49.                         $photoPath = $newPhotoPath;
    50.                     } else {
    51.                         $_SESSION['error'] = '–§–æ—Ç–æ –º–∞—î –±—É—Ç–∏ —Ñ–æ—Ä–º–∞—Ç—É JPG, PNG –∞–±–æ GIF.';
    52.                     }
    53.                 } else {
    54.                     $_SESSION['error'] = '–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—É.';
    55.                 }
    56.             }
    57. 
    58.             if (!isset($_SESSION['error'])) {
    59.                 $profile = [
    60.                     'name' => $name,
    61.                     'surname' => $surname,
    62.                     'birthdate' => $birthdate,
    63.                     'bio' => $bio,
    64.                     'photo' => $photoPath,
    65.                 ];
    66. 
    67.                 file_put_contents($profileFile, "<?php return " . var_export($profile, true) . ";");
    68.                 $_SESSION['success'] = '–ü—Ä–æ—Ñ—ñ–ª—å –∑–±–µ—Ä–µ–∂–µ–Ω–æ.';
    69.             }
    70.         }
    71.     }
    72. 
    73.     header('Location: ' . $_SERVER['REQUEST_URI']);
    74.     exit;
    75. }
    76. ?>
    77. 
    78. <div class="product-page" style="max-width: 1000px;">
    79.     <h1>–ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h1>
    80. 
    81.     <?php if ($error): ?>
    82.         <div class="error-message"><?= htmlspecialchars($error) ?></div>
    83.     <?php elseif ($success): ?>
    84.         <div class="cart-success"><?= htmlspecialchars($success) ?></div>
    85.     <?php endif; ?>
    86. 
    87.     <form method="POST" enctype="multipart/form-data" class="profile-form" style="display: flex; gap: 2rem;">
    88.         <div style="flex: 1; text-align: center;">
    89.             <img
    90.                 src="<?= htmlspecialchars($profile['photo'] ?? 'https://via.placeholder.com/200') ?>"
    91.                 alt="–§–æ—Ç–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞"
    92.                 style="max-width: 60%; border-radius: 8px; margin-bottom: 1rem;"
    93.             >
    94.             <label for="photo-upload" class="custom-file-upload" style="
    95.                 display: inline-block;
    96.                 padding: 0.5rem 1rem;
    97.                 cursor: pointer;
    98.                 background-color: #4CAF50;
    99.                 color: white;
    100.                 border-radius: 6px;
    101.                 font-size: 0.9rem;
    102.                 transition: background-color 0.3s ease;
    103.             ">
    104.                 –û–±—Ä–∞—Ç–∏ —Ñ–æ—Ç–æ
    105.             </label>
    106.             <input id="photo-upload" type="file" name="photo" accept="image/*" style="display: none;">
    107.         </div>
    108. 
    109.         <div style="flex: 2;">
    110.             <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
    111.                 <input type="text" name="name" placeholder="–Ü–º‚Äô—è" value="<?= htmlspecialchars($profile['name'] ?? '') ?>" style="flex:1; padding: 0.5rem;">
    112.                 <input type="text" name="surname" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ" value="<?= htmlspecialchars($profile['surname'] ?? '') ?>" style="flex:1; padding: 0.5rem;">
    113.                 <input type="date" name="birthdate" value="<?= htmlspecialchars($profile['birthdate'] ?? '') ?>" style="padding: 0.5rem;">
    114.             </div>
    115. 
    116.             <div style="margin-bottom: 1rem;">
    117.                 <textarea name="bio" rows="12" placeholder="–°—Ç–∏—Å–ª–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Å–µ–±–µ..." style="width: 100%; resize: none; padding: 0.75rem;"><?= htmlspecialchars($profile['bio'] ?? '') ?></textarea>
    118.             </div>
    119. 
    120.             <div style="text-align: right;">
    121.                 <button type="submit" class="submit-button">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
    122.             </div>
    123.         </div>
    124.     </form>
    125. </div>
    126. 
    127. <script>
    128. document.getElementById('photo-upload').addEventListener('change', function(event) {
    129.     const file = event.target.files[0];
    130.     if (file && file.type.startsWith('image/')) {
    131.         const reader = new FileReader();
    132.         reader.onload = function(e) {
    133.             document.querySelector('.product-page img').src = e.target.result;
    134.         };
    135.         reader.readAsDataURL(file);
    136.     }
    137. });
    138. </script>


–í.7 credential.php
GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/NureIuzkovOleksandr/smp-pzpi-23-4-iuzkov-oleksandr/blob/main/Lab4/smp-pzpi-23-4-iuzkov-oleksandr-lab4/utils/credential.php
    1. <?php
    2. $credentials = [
    3.     'username' => 'Alex',
    4.     'password' => '123456',
    5. ];

–í.8 profile.php
GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/NureIuzkovOleksandr/smp-pzpi-23-4-iuzkov-oleksandr/blob/main/Lab4/smp-pzpi-23-4-iuzkov-oleksandr-lab4/utils/profile.php
    1. <?php return array (
    2.   'name' => 'Oleg',
    3.   'surname' => 'Iuzkov',
    4.   'birthdate' => '2006-06-14',
    5.   'bio' => 'The quick brown fox jumps over the lazy dog near the riverbank on a sunny afternoon.The quick brown fox jumps over the lazy dog near the riverbank on a sunny afternoon.',
    6.   'photo' => 'assets/profile_684390348d2299.24786934.jpg',
    7. );
